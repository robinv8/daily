---
import Layout from '../layouts/Layout.astro';
import { Card } from '../components';

const response = await fetch(
  process.env.NODE_ENV === 'development'
    ? 'http://localhost:4000/posts'
    : 'http://daily-server:4000/posts',
);
const posts = await response.json();
console.log('posts', posts);
---

<Layout title="daily">
  <div class="items-center px-4 max-w-screen-2xl mx-auto md:flex md:px-8">
    <div class="mt-8 grid gap-8 sm:grid-cols-2 lg:grid-cols-4">
      {
        posts.map((item) => {
          return <Card items={item} />;
        })
      }
    </div>
  </div>
</Layout>

<style></style>
